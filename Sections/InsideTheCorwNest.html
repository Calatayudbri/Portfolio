<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inside the Crow's Nest - Lucas Calatayud</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-purple: #8B5CF6;
            --dark-purple: #5a1bc0;
            --accent-silver: #E5E7EB;
            --crow-black: #0F0F0F;
            --deep-black: #000000;
            --dark-gray: #1F1F1F;
            --medium-gray: #374151;
            --glass-bg: rgba(139, 92, 246, 0.1);
            --glass-border: rgba(139, 92, 246, 0.2);
            --feather-gray: #4B5563;
        }

        body {
            font-family: 'Exo 2', sans-serif;
            background: radial-gradient(ellipse at center, var(--dark-gray) 0%, var(--crow-black) 70%, var(--deep-black) 100%);
            color: var(--accent-silver);
            overflow-x: hidden;
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Enhanced animated background with feather-like particles */
        .feathers {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -2;
        }

        .feather {
            position: absolute;
            border-radius: 50% 10% 50% 10%;
            animation: float 12s infinite linear;
            transform-origin: center;
        }

        .feather.small {
            width: 8px;
            height: 20px;
            background: linear-gradient(45deg, var(--medium-gray), var(--feather-gray));
        }

        .feather.medium {
            width: 12px;
            height: 30px;
            background: linear-gradient(45deg, var(--feather-gray), var(--primary-purple));
        }

        .feather.large {
            width: 16px;
            height: 40px;
            background: linear-gradient(45deg, var(--dark-purple), var(--primary-purple));
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg) translateX(0px);
                opacity: 0;
            }

            10% {
                opacity: 0.7;
            }

            50% {
                transform: translateY(50vh) rotate(180deg) translateX(20px);
                opacity: 0.5;
            }

            90% {
                opacity: 0.3;
            }

            100% {
                transform: translateY(-10vh) rotate(360deg) translateX(-20px);
                opacity: 0;
            }
        }

        /* Mysterious grid overlay */
        .mystical-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                radial-gradient(circle at 20% 50%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(139, 92, 246, 0.08) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
            opacity: 0.6;
        }

        /* Enhanced Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(15, 15, 15, 0.9);
            backdrop-filter: blur(20px);
            padding: 1rem 0;
            z-index: 1000;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(139, 92, 246, 0.2);
        }

        nav.scrolled {
            background: rgba(15, 15, 15, 0.98);
            box-shadow: 0 5px 30px rgba(139, 92, 246, 0.3);
            border-bottom-color: rgba(139, 92, 246, 0.4);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Cinzel', serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-purple);
            text-decoration: none;
            text-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
            transition: all 0.3s ease;
        }

        .logo:hover {
            text-shadow: 0 0 30px rgba(139, 92, 246, 0.8);
            transform: scale(1.05);
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2.5rem;
        }

        .nav-links a {
            color: var(--accent-silver);
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            font-weight: 500;
            font-size: 1.1rem;
        }

        .nav-links a:hover {
            color: var(--primary-purple);
            text-shadow: 0 0 10px rgba(139, 92, 246, 0.6);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 3px;
            bottom: -8px;
            left: 0;
            background: linear-gradient(90deg, var(--primary-purple), var(--dark-purple));
            transition: width 0.3s ease;
            border-radius: 2px;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        /* Enhanced Hero Section */
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            width: 300%;
            height: 300%;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.1) 0%, transparent 60%);
            animation: mysticalPulse 6s ease-in-out infinite;
        }

        @keyframes mysticalPulse {

            0%,
            100% {
                transform: scale(1) rotate(0deg);
                opacity: 0.2;
            }

            33% {
                transform: scale(1.1) rotate(120deg);
                opacity: 0.1;
            }

            66% {
                transform: scale(0.9) rotate(240deg);
                opacity: 0.3;
            }
        }

        .hero-content {
            max-width: 1000px;
            padding: 0 2rem;
            position: relative;
            z-index: 10;
        }

        .hero h1 {
            font-family: 'Cinzel', serif;
            font-size: 4.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            background: linear-gradient(45deg, var(--accent-silver), var(--primary-purple), var(--dark-purple));
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: mysticalShift 5s ease-in-out infinite;
            text-shadow: 0 0 50px rgba(139, 92, 246, 0.3);
        }

        @keyframes mysticalShift {

            0%,
            100% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }
        }

        .hero-subtitle {
            font-family: 'Orbitron', monospace;
            font-size: 1.3rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            font-weight: 400;
            letter-spacing: 2px;
            color: var(--primary-purple);
        }

        .hero-description {
            font-size: 1.2rem;
            margin-bottom: 3rem;
            opacity: 0.8;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.8;
        }

        /* Enhanced Sections */
        .section {
            padding: 8rem 2rem;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
        }

        .section-title {
            font-family: 'Cinzel', serif;
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 2rem;
            text-align: center;
            color: var(--primary-purple);
            text-shadow: 0 0 30px rgba(139, 92, 246, 0.3);
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 4px;
            background: linear-gradient(90deg, var(--dark-purple), var(--primary-purple), var(--accent-silver));
            border-radius: 2px;
        }

        .section-intro {
            text-align: center;
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 4rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.7;
        }

        /* Content Cards */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 3rem;
            margin-top: 4rem;
        }

        .content-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2.5rem;
            transition: all 0.4s ease;
            border: 1px solid var(--glass-border);
            position: relative;
            overflow: hidden;
        }

        .content-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, var(--dark-purple), var(--primary-purple));
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: 20px;
            z-index: -1;
        }

        .content-card:hover::before {
            opacity: 0.1;
        }

        .content-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 25px 50px rgba(139, 92, 246, 0.2);
            border-color: var(--primary-purple);
        }

        .card-title {
            font-family: 'Cinzel', serif;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--primary-purple);
        }

        .card-content {
            opacity: 0.9;
            line-height: 1.8;
        }

        .card-content ul {
            margin-left: 1.5rem;
            margin-top: 1rem;
        }

        .card-content li {
            margin-bottom: 0.5rem;
        }

        .tech-highlight {
            background: rgba(139, 92, 246, 0.15);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-family: 'Orbitron', monospace;
            font-size: 0.9rem;
            color: var(--primary-purple);
        }

        /* Media Content */
        .media-container {
            margin: 3rem 0;
            text-align: center;
        }

        .media-item {
            background: var(--glass-bg);
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid var(--glass-border);
            transition: all 0.3s ease;
            margin-bottom: 2rem;
        }

        .media-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(139, 92, 246, 0.2);
        }

        .media-item img,
        .media-item video {
            width: 100%;
            height: auto;
            display: block;
        }

        .media-caption {
            padding: 1rem;
            font-size: 0.9rem;
            opacity: 0.8;
            font-style: italic;
        }

        .media-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        /* Two-column layout for text + media */
        .content-two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
            margin: 4rem 0;
        }

        .content-two-column .text-content {
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .content-two-column .media-content {
            background: var(--glass-bg);
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid var(--glass-border);
        }

        /* Process Steps */
        .process-steps {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            margin: 3rem 0;
        }

        .process-step {
            display: flex;
            align-items: center;
            background: var(--glass-bg);
            border-radius: 15px;
            padding: 2rem;
            border: 1px solid var(--glass-border);
            transition: all 0.3s ease;
        }

        .process-step:hover {
            transform: translateX(10px);
            border-color: var(--primary-purple);
        }

        .step-number {
            background: var(--primary-purple);
            color: var(--deep-black);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-family: 'Orbitron', monospace;
            margin-right: 2rem;
            flex-shrink: 0;
        }

        .step-content h4 {
            color: var(--primary-purple);
            margin-bottom: 0.5rem;
            font-family: 'Cinzel', serif;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .content-two-column {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 3rem;
            }

            .nav-links {
                display: none;
            }

            .content-grid {
                grid-template-columns: 1fr;
            }

            .section {
                padding: 5rem 1rem;
            }

            .hero-content {
                padding: 0 1rem;
            }

            .media-grid {
                grid-template-columns: 1fr;
            }

            .process-step {
                flex-direction: column;
                text-align: center;
            }

            .step-number {
                margin-right: 0;
                margin-bottom: 1rem;
            }
        }

        /* Loading animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-in {
            animation: fadeInUp 0.8s ease-out forwards;
        }

        /* Crow silhouette decoration */
        .crow-decoration {
            position: absolute;
            font-size: 2rem;
            color: var(--primary-purple);
            opacity: 0.3;
            animation: crowFly 20s linear infinite;
        }

        @keyframes crowFly {
            0% {
                transform: translateX(-100px) rotate(0deg);
            }

            100% {
                transform: translateX(calc(100vw + 100px)) rotate(360deg);
            }
        }

        /* Image Carousel */
        .image-carousel {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: var(--glass-bg);
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid var(--glass-border);
        }

        .carousel-container {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }

        .carousel-slide {
            flex: 0 0 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .carousel-slide img {
            width: 100%;
            height: auto;
            display: block;
        }

        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(139, 92, 246, 0.8);
            color: white;
            border: none;
            padding: 1rem;
            cursor: pointer;
            font-size: 1.5rem;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .carousel-nav:hover {
            background: var(--primary-purple);
            transform: translateY(-50%) scale(1.1);
        }

        .carousel-prev {
            left: 15px;
        }

        .carousel-next {
            right: 15px;
        }

        .carousel-indicators {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
        }

        .carousel-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(139, 92, 246, 0.4);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .carousel-indicator.active,
        .carousel-indicator:hover {
            background: var(--primary-purple);
            transform: scale(1.2);
        }

        /* Footer */
        footer {
            background: rgba(15, 15, 15, 0.95);
            text-align: center;
            padding: 3rem;
            margin-top: 4rem;
            border-top: 1px solid rgba(139, 92, 246, 0.2);
        }

        footer p {
            opacity: 0.8;
            font-size: 1rem;
        }
    </style>
</head>

<body>
    <div class="feathers" id="feathers"></div>
    <div class="mystical-overlay"></div>


    <!-- Navigation -->
    <nav id="navbar">
        <div class="nav-container">
            <a href="../index.html" class="logo">Back to Portfolio</a>
            <ul class="nav-links">
                <li><a href="#interaction">Interaction</a></li>
                <li><a href="#inventory">Inventory</a></li>
                <li><a href="#diary">Diary</a></li>
                <li><a href="#audio">Audio</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h1>Inside the Crow's Nest</h1>
            <p class="hero-description">
                I contributed to the development of Inside the Crow's Nest, focusing on the design and
                implementation of the core diary system, inventory, and interaction mechanics. I also worked on the
                game's audio design to create an immersive atmosphere. All features were developed in Unreal Engine
                using both C++ and Blueprint systems.
            </p>
        </div>
        <div class="crow-decoration" style="top: 20%; left: 10%;">

            <head>
                <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
            </head>

            <body>
                <i class="fa-solid fa-crow"></i> <!-- Esto dibuja un cuervo -->
            </body>
        </div>
    </section>

    <!-- Interaction Section -->
    <section class="section" id="interaction">
        <h2 class="section-title">Interaction System</h2>
        <p class="section-intro">
            The interaction system uses advanced cone-based detection combined with line tracing to create precise,
            context-aware player interactions. The system intelligently filters objects based on distance, visibility,
            and player orientation.
        </p>

        <div class="content-two-column">
            <div class="text-content">
                <h3 style="color: var(--primary-purple); margin-bottom: 1rem;">How the Detection Works</h3>
                <p>The system creates a 160-degree cone in front of the player using vector mathematics. When objects
                    enter this cone, the system performs line tracing to ensure visibility - objects behind walls or
                    obstacles are automatically filtered out.</p>

                <p>The <span class="tech-highlight">UInteractionComponent</span> inherits from Unreal's sphere component
                    and continuously monitors overlapping objects, but only activates interactions for those within the
                    player's cone of attention.</p>
            </div>
            <div class="media-content">
                <div class="media-item">
                    <!-- AquÃ­ va tu imagen/video del sistema de detecciÃ³n -->
                    <video width="640" height="360" controls>
                        <source src="../Images/CrowsNest/InteractionVideo.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    <div class="media-caption">Interactables detection in game</div>
                </div>
            </div>
        </div>

        <div class="process-steps">
            <div class="process-step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h4>Overlap Detection</h4>
                    <p>Objects entering the interaction sphere trigger <span
                            class="tech-highlight">OnBeginOverlap</span> events, adding them to an array of potential
                        interactables.</p>
                </div>
            </div>
            <div class="process-step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h4>Cone Filtering</h4>
                    <p>Using <span class="tech-highlight">FVector::DotProduct</span>, the system calculates angles
                        between the player's forward vector and object positions to filter within the 160-degree cone.
                    </p>
                </div>
            </div>
            <div class="process-step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h4>Visibility Check</h4>
                    <p>Line traces from player position to object ensure visibility, automatically excluding occluded
                        objects from interaction consideration.</p>
                </div>
            </div>
            <div class="process-step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h4>Priority Selection</h4>
                    <p>Among valid candidates, the system selects the closest object for interaction, ensuring intuitive
                        player experience.</p>
                </div>
            </div>
        </div>
        <div class="media-item">
            <img src="../Images/CrowsNest/Interaction.png" alt="Interaction filter in Game" />
            <div class="media-caption">In-game demonstration of the interaction system detecting and
                highlighting interactable objects</div>
        </div>

        <div class="text-content">
            <h2 style="color: var(--primary-purple); margin-bottom: 1rem;">Different interactable actors</h2>
            <p class="section-intro">Each interactable object belongs to a class called Interactable Actor. When
                players interact with these actors, they trigger the specific interaction of that object, which is
                implemented in Blueprint. Some examples of this type of actor found in the game include inspectable
                objects, climbable objects, pickups, and more. This class also manages whether an actor requires a
                specific item in order to be interacted with, or if it simply functions as a pickup.</p>
            <div class="container">
                <div class="media-item">
                    <img src="images/game_environment.png" alt="Interaction System in Game" />
                    <div class="media-caption">Different items that you can interact with</div>
                </div>
            </div>
        </div>

        <div class="text-content">
            <h2 style="color: var(--primary-purple); margin-bottom: 1rem;">Streaming Doors</h2>
            <p class="section-intro">To optimize the game, a streaming system for loading and unloading levels was
                implemented, taking advantage of the interaction system. By using a loading and unloading door, the game
                levels that are in the front or back side of the door are loaded depending on where the player is coming
                from. This way, since the rooms of the game are not loaded all the time, they can have a greater number
                of assets for better visual quality. Moreover, by not having all areas of the game constantly loaded,
                the performance improves. This loading and unloading is done with a fade effect to make it feel more
                natural, like a "loading screen," and to avoid interfering so abruptly with the user experience.</p>
            <div class="container">
                <div class="media-item">
                    <img src="../Images/CrowsNest/StreamingDoor.png" alt="Streaming door example" />
                    <div class="media-caption">Streaming door with different levels assginated for the front and back
                        side</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Inventory Section -->
    <section class="section" id="inventory">
        <h2 class="section-title">Inventory System</h2>
        <p class="section-intro">
            A inventory based on a 4x3 grid that features intelligent stacking of objects, automatic
            overflow handling, and seamless integration with the game's object database. Built with performance
            optimization, scalability, and ease of editing for the design department in mind from the editor.
        </p>

        <div class="content-two-column">
            <div class="media-content">
                <div class="media-item">
                    <img src="../Images/CrowsNest/Inventory.png" alt="Inventory Interface" />
                    <div class="media-caption">4x3 inventory grid showing items with quantities and stack management
                    </div>
                </div>
            </div>
            <div class="text-content">
                <h3 style="color: var(--primary-purple); margin-bottom: 1rem;">Smart Stacking Algorithm</h3>
                <p>The inventory automatically manages item stacks using the <span
                        class="tech-highlight">AddNewStack()</span> function. When adding items that exceed stack
                    limits, the system intelligently creates multiple stacks.</p>

                <p>Each item type has configurable stack sizes defined in Data Assets, allowing for flexible item
                    management across different categories (potions, keys, etc.).</p>
            </div>
        </div>

        <div class="content-grid">
            <div class="content-card">
                <h3 class="card-title">Data Structure</h3>
                <div class="card-content">
                    <p>The <span class="tech-highlight">FPZItemsStack</span> struct contains:</p>
                    <ul>
                        <li><strong>Item ID:</strong> Unique identifier for database lookup</li>
                        <li><strong>Quantity:</strong> Current stack amount</li>
                        <li><strong>Index:</strong> Position in inventory grid</li>
                        <li><strong>Custom serialization:</strong> For save/load persistence</li>
                    </ul>
                </div>
            </div>
            <div class="content-card">
                <h3 class="card-title">Item Structure</h3>
                <div class="card-content">
                    <p>The <span class="tech-highlight">Item</span> struct contains:</p>
                    <ul>
                        <li><strong>Item ID:</strong> Unique identifier for database lookup</li>
                        <li><strong>In game name:</strong> Item's name that will be seen by the player</li>
                        <li><strong>Max stack size:</strong> Maximum amount that a stack can have</li>
                        <li><strong>Image:</strong> Item icon</li>
                        <li><strong>Item type:</strong> The type of the item (Key,healing item...)</li>
                        <li><strong>Description:</strong> Item descriptions</li>
                        <li><strong>Use Object:</strong> Special class to manage what happens if the item has a USE
                            button in the inventory when selected (e.g. a healing potion) </li>

                    </ul>
                </div>
            </div>
            <div class="content-card">
                <h3 class="card-title">Index Management</h3>
                <div class="card-content">
                    <p>Automatic reindexing when items are removed:</p>
                    <ul>
                        <li>Maintains proper grid ordering</li>
                        <li>Prevents gaps in inventory</li>
                        <li>Efficient array operations</li>
                        <li>Consistent visual layout</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="media-content">
            <div class="media-item">
                <!-- AquÃ­ va tu imagen/video del sistema de detecciÃ³n -->
                <video width="640" height="360" controls>
                    <source src="../Images/CrowsNest/Using Object.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <div class="media-caption">Using items in game</div>
            </div>
        </div>
    </section>

    <!-- Diary Section -->
    <section class="section" id="diary">
        <h2 class="section-title">Diary System</h2>
        <p class="section-intro">
            Just like the objects with the inventory, the diary notes also work with data assets. And the operation is
            quite similar.
        </p>

        <div class="media-grid">
            <div class="media-item">
                <img src="../Images/CrowsNest/Diario.png" alt="Diary Interface" />
                <div class="media-caption">Screenshot of the diary tab in the game showing 1 out of the 3 notes picke up
                    by the player</div>
            </div>

        </div>

        <div class="process-steps">
            <div class="process-step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h4>Content Discovery</h4>
                    <p>Players discover notes and lore throughout the game world. The <span
                            class="tech-highlight">AddNoteToDiary()</span> function validates and adds new entries.</p>
                </div>
            </div>
            <div class="process-step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h4>Data Asset Integration</h4>
                    <p>Notes are stored in <span class="tech-highlight">UPZDiaryNote</span> Data Assets with complete
                        metadata including images, descriptions, and formatting.</p>
                </div>
            </div>
            <div class="process-step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h4>Persistent Storage</h4>
                    <p>Custom serialization operators ensure diary progress saves correctly across game sessions.</p>
                </div>
            </div>
        </div>

        <div class="content-grid">
            <div class="content-card">
                <h3 class="card-title">Content Validation</h3>
                <div class="card-content">
                    <p>Robust error handling and validation:</p>
                    <ul>
                        <li>Duplicate entry prevention</li>
                        <li>Missing content warnings</li>
                        <li>Database integrity checks</li>
                        <li>Graceful fallback handling</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Audio Section -->
    <section class="section" id="audio">
        <h2 class="section-title">Audio System</h2>
        <p class="section-intro">
            A dynamic audio management system made using unreal metasounds that adapts to gameplay context, featuring
            zone-based music transitions,
            intelligent randomization, and sophisticated fade controls for immersive atmospheric sound design.
        </p>

        <div class="content-two-column">
            <div class="text-content">
                <h3 style="color: var(--primary-purple); margin-bottom: 1rem;">Adaptive Background Music System</h3>
                <p>The audio system automatically detects gameplay states (exploration vs combat) and transitions music
                    accordingly. Each zone has its own musical identity using IDs with seamless crossfading between
                    areas and gameplay states.</p>

                <p>The system uses event-driven architecture, responding to player actions, combat states, and location
                    changes to create a dynamic soundscape that enhances immersion.</p>
            </div>
            <div class="media-content">
                <div class="media-item">
                    <div class="image-carousel" data-carousel="nombre-unico">
                        <div class="carousel-container">
                            <div class="carousel-slide">
                                <img src="../Images/CrowsNest/DungeonIDs.png" alt="DescripciÃ³n 1" />
                            </div>
                            <div class="carousel-slide">
                                <img src="../Images/CrowsNest/LibraryIDs.png" alt="DescripciÃ³n 2" />
                            </div>
                            <div class="carousel-slide">
                                <img src="../Images/CrowsNest/ritualHallIDs.png" alt="DescripciÃ³n 3" />
                            </div>
                        </div>
                        <button class="carousel-nav carousel-prev">â€¹</button>
                        <button class="carousel-nav carousel-next">â€º</button>
                        <div class="carousel-indicators">
                            <div class="carousel-indicator active"></div>
                            <div class="carousel-indicator"></div>
                            <div class="carousel-indicator"></div>
                        </div>
                    </div>
                    <div class="media-caption">Track management based on ID</div>
                </div>
            </div>
        </div>

        <div class="media-content">
            <div class="media-item">
                <!-- AquÃ­ va tu imagen/video del sistema de detecciÃ³n -->
                <video width="640" height="360" controls>
                    <source src="../Images/CrowsNest/musicchange.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <div class="media-caption">Change background music between exploration and safe zone</div>
            </div>
        </div>


        <div class="process-steps">
            <div class="process-step">

                <div class="step-content">
                    <h4>Zone Detection</h4>
                    <p>When the player passes through a zone detector, its trigger is activated which sets the new IDs
                        for the exploration and combat music of that respective zone, in addition to updating the
                        background music by playing the new ID.</p>
                </div>
            </div>
            <div class="media-item">
                <img src="../Images/CrowsNest/BP_ZoneMusicTrigger.png" alt="Zone music trigger" />
                <div class="media-caption"></div>
            </div>

            <div class="process-step">
                <div class="step-content">
                    <h4>Music Selection</h4>
                    <p>The audio works with an audio manager, every time the game starts, it is responsible for playing
                        the corresponding background music based on the zone IDs it has saved.</p>
                </div>
            </div>
            <div class="media-item">
                <img src="../Images/CrowsNest/AudioManagerBeginPlay.png" alt="Begin play audio manager" />
                <div class="media-caption"></div>
            </div>

            <div class="process-step">
                <div class="step-content">
                    <h4>Fade between tracks</h4>
                    <p>With the play music function to start playing the track there is a sustom duration Fade in / fade
                        out system between tracks, made modular so the designers could
                        change the values to the ones that suited better for them in an easy way</p>
                </div>
            </div>
            <div class="media-item">
                <img src="../Images/CrowsNest/AudioManagerPlayMusic.png" alt="Begin play audio manager" />
                <div class="media-caption"></div>
            </div>

        </div>

        <div class="content-card">
            <div class="text-content">
                <h3 style="color: var(--primary-purple); margin-bottom: 1rem;">SFX inside the project</h3>
                <p>The sound effects in the project were made with metasounds that play when necessary, for example with
                    notifications in the animations of enemies or the crows, when the character shoots the crossbow....
                </p>

                <p>The example I am going to show is about the metasound for the sound effect of a ritual dagger, in
                    which, once placed on its altar, it should produce sounds of distant whispers. This whispers are
                    also played when the player pick up the dagger</p>
            </div>

        </div>

        <div class="content-two-column">
            <div class="media-content">
                <div class="media-item">
                    <img src="../Images/CrowsNest/MS_Dagger_Iddle.png" alt="Background music IDs showcase" />
                    <div class="media-caption">Iddle dagger sound management</div>
                </div>
            </div>

            <div class="media-content">
                <div class="media-item">
                    <img src="../Images/CrowsNest/MS_Whispers.png" alt="Background music IDs showcase" />
                    <div class="media-caption">Whispers sounds picking a random one each time the track is played</div>
                </div>
            </div>
        </div>

        <h3 style="color: var(--primary-purple); margin-bottom: 1rem;">Sound Spatialization</h3>
        <div class="process-step">

            All the sound effects in the game are spatialized to enhance game immersion; also, each area of the game has
            a volume to manage the reverberation effect that gives the corresponding echo effect for that sound effect
            within that specific area.
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Lucas Calatayud. Game Developer & Programmer</p>
    </footer>

    <script>
        // Create floating feathers
        function createFeathers() {
            const feathersContainer = document.getElementById('feathers');
            const featherCount = 30;
            const types = ['small', 'medium', 'large'];

            for (let i = 0; i < featherCount; i++) {
                const feather = document.createElement('div');
                const type = types[Math.floor(Math.random() * types.length)];
                feather.className = `feather ${type}`;
                feather.style.left = Math.random() * 100 + '%';
                feather.style.animationDelay = Math.random() * 12 + 's';
                feather.style.animationDuration = (Math.random() * 6 + 8) + 's';
                feathersContainer.appendChild(feather);
            }
        }

        // Navbar scroll effect
        window.addEventListener('scroll', function () {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 100) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    const offsetTop = target.offsetTop - 80;
                    window.scrollTo({
                        top: offsetTop,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Initialize effects
        createFeathers();

        // Intersection Observer for scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-in');
                }
            });
        }, observerOptions);

        // Observe sections and cards for animations
        document.querySelectorAll('.section, .content-card, .media-item').forEach(element => {
            observer.observe(element);
        });

        // Parallax effect for hero section
        window.addEventListener('scroll', function () {
            const scrolled = window.pageYOffset;
            const hero = document.querySelector('.hero');
            const rate = scrolled * -0.3;
            hero.style.transform = `translateY(${rate}px)`;
        });

        // Random crow flying effect
        function addFlyingCrow() {
            const crow = document.createElement('div');
            crow.className = 'crow-decoration';
            crow.innerHTML = 'ðŸ¦â€â¬›';
            crow.style.top = Math.random() * 50 + 25 + '%';
            crow.style.left = '-100px';
            document.body.appendChild(crow);

            setTimeout(() => {
                crow.remove();
            }, 20000);
        }

        // Add random flying crows
        setInterval(addFlyingCrow, Math.random() * 30000 + 15000);

        // Carousel functionality
        const carousel = document.querySelector('.image-carousel');
        if (carousel) {
            const container = carousel.querySelector('.carousel-container');
            const slides = carousel.querySelectorAll('.carousel-slide');
            const prevBtn = carousel.querySelector('.carousel-prev');
            const nextBtn = carousel.querySelector('.carousel-next');
            const indicators = carousel.querySelectorAll('.carousel-indicator');

            let currentSlide = 0;
            const totalSlides = slides.length;

            function goToSlide(slideIndex) {
                currentSlide = slideIndex;
                container.style.transform = `translateX(-${currentSlide * 100}%)`;

                // Update indicators
                indicators.forEach((indicator, index) => {
                    indicator.classList.toggle('active', index === currentSlide);
                });
            }

            function nextSlide() {
                currentSlide = (currentSlide + 1) % totalSlides;
                goToSlide(currentSlide);
            }

            function prevSlide() {
                currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
                goToSlide(currentSlide);
            }

            // Event listeners
            if (nextBtn) nextBtn.addEventListener('click', nextSlide);
            if (prevBtn) prevBtn.addEventListener('click', prevSlide);

            // Indicator clicks
            indicators.forEach((indicator, index) => {
                indicator.addEventListener('click', () => goToSlide(index));
            });
        }
    </script>
</body>

</html>